<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="true">
    <title>Contact page </title>
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main class='main'>
        <section class="left">
             <div class="info">
                <h2 class="title">Give me a shout!</h2>
                <p>
                    I love growing my network and collaborating on fun projects with cool people. 
                    <br> Just inquire about a idea you've got in mind, I'm all ears!
                </p>
            </div>
        </section>
        <section class="rigth">
         <div class="container">
            <form id='contactform'>
              <div class="row">
                <div class="col-25">
                  <label for="fname">Name</label>
                </div>
                <div class="col-75">
                  <input type="text" id="fname" name="firstname" placeholder="Your name.." required     oninvalid="this.setCustomValidity(' Your name is required')"
                  oninput="this.setCustomValidity('')"  />
                </div>
              </div>
              <div class="row">
                <div class="col-25">
                  <label for="lname">Email</label>
                </div>
                <div class="col-75">
                  <input type="email" id="lname" name="lastname" placeholder="Your email address.." required   oninvalid="this.setCustomValidity('Enter a valid email')"
                   oninput="this.setCustomValidity('')"  />
                </div>
              </div>
              <div class="row">
                <div class="col-25">
                  <label for="subject">Message</label>
                </div>
                <div class="col-75">
                  <textarea id="subject" name="subject" placeholder="Write your message.." style="height:200px" required     oninvalid="this.setCustomValidity('Your message is required')"
                   oninput="this.setCustomValidity('')"  /></textarea>
                </div>
              </div>
              <div class="row hvr-grow">
                <input type="submit" id="send" value="Send" >
              </div>
            </form>
           </div>
         </section>
    </main>
    
    <footer class="footer">
        <nav class="nav-bar">
            <ul class="nav-link">
                <a  class="nav-link hvr-fade "  href="../home/index.html">Home</a>
                <a  class="nav-link hvr-fade" href="../blogpage/index.html">Blog</a>
                <a  class="nav-link hvr-fade" href="../profilepage/index.html">Profile</a>
                <a class="nav-link  hvr-fade" href="../portfoliopage/index.html">Portfolio</a>
            </ul>
            <ul class="nav-social">
                <a href="#"><img src="./images/twitter.png" class="twit hvr-fade"></a>
                <a href="#"><img src="./images/instagram.png" class="instg hvr-fade"></a>
                <a href="#"><img src="./images/facebook.png" class="fb hvr-fade"></a>
            </ul>
        </nav>
    </footer>

      <!-- The core Firebase JS SDK is always required and must be listed first -->
      <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>

      <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>

      <!-- TODO: Add SDKs for Firebase products that you want to use
          https://firebase.google.com/docs/web/setup#available-libraries -->
      <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-analytics.js"></script>

      <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
          apiKey: "AIzaSyBVhxK4NSd4vgDShVQ_sT7NFTjbx3oJ0QU",
          authDomain: "anisie-brand.firebaseapp.com",
          databaseURL: "https://anisie-brand.firebaseio.com",
          projectId: "anisie-brand",
          storageBucket: "anisie-brand.appspot.com",
          messagingSenderId: "86557101911",
          appId: "1:86557101911:web:6db2a963eac38788f43812",
          measurementId: "G-MGXRQXKW5X"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        var db = firebase.firestore();

        // send = document.getElementById('send')
        // send.onclick = function(){

        contactform = document.getElementById('contactform')
        contactform.onsubmit = function(e){
          e.preventDefault();
          
          name    = document.getElementById('fname').value;
          email   = document.getElementById('lname').value;
          message = document.getElementById('subject').value; 

          // console.log(name);

          db.collection("contacts").add({
              name: name,
              email: email,
              message: message
          })
          .then(function(docRef) {
              console.log("Document written with ID: ", docRef.id);
              document.getElementById('fname').value='';
              document.getElementById('lname').value='';
              document.getElementById('subject').value='';

          })
          .catch(function(error) {
              console.error("Error adding document: ", error);
          });
        }


      </script>
</body>

</html>